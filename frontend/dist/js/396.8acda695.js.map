{"version":3,"file":"js/396.8acda695.js","mappings":"iLAMiBA,MAAM,mC,GA6DJA,MAAM,e,8SAlEvB,QA6Ec,GA7EDC,MAAA,GAAMD,MAAM,+B,kBACvB,IA2EQ,EA3ER,QA2EQ,GA3EDE,QAAQ,SAASC,MAAM,SAASH,MAAM,e,kBAC3C,IAyEQ,EAzER,QAyEQ,GAzEDI,KAAK,KAAKC,GAAG,IAAIC,GAAG,IAAIC,GAAG,K,kBAChC,IAuES,EAvET,QAuES,GAvEDP,MAAM,cAAcQ,QAAQ,M,kBAClC,IAMe,EANf,QAMe,GANDR,MAAM,oBAAkB,C,iBACpC,IAIM,EAJN,QAIM,MAJN,EAIM,EAHJ,QAAkF,GAA1ES,KAAK,KAAKC,MAAM,UAAUV,MAAM,Q,kBAAO,IAA0B,kB,QAA1B,8BAA0B,O,mBACzE,QAAmD,MAA/CA,MAAM,6BAA4B,YAAQ,I,aAC9C,QAAiE,KAA9DA,MAAM,6BAA4B,4BAAwB,Q,OAIjE,QA6Dc,GA7DDA,MAAM,aAAW,C,iBAC5B,IA2DS,EA3DT,QA2DS,GA3DDW,IAAI,OAAQ,UAAM,QAAU,EAAAC,YAAW,c,kBAC7C,IAUgB,EAVhB,QAUgB,G,WATL,EAAAC,M,qCAAA,EAAK,SACdC,MAAM,gBACNC,KAAK,QACL,qBAAmB,YACnBC,QAAQ,WACPC,MAAO,EAAAC,WACP,iBAAgB,EAAAC,YACjBnB,MAAM,OACNoB,SAAA,I,iDAGF,QAYgB,G,WAXL,EAAAC,S,qCAAA,EAAQ,YACjBP,MAAM,eACLC,KAAM,EAAAO,aAAe,OAAS,WAC/B,qBAAmB,WAClB,oBAAmB,EAAAA,aAAe,UAAY,cAC9C,sBAAkB,eAAE,EAAAA,cAAgB,EAAAA,cACrCN,QAAQ,WACPC,MAAO,EAAAM,cACP,iBAAgB,EAAAC,eACjBxB,MAAM,OACNoB,SAAA,I,4EAGF,QAaQ,GAbDpB,MAAM,QAAM,C,iBACjB,IAMQ,EANR,QAMQ,GANDI,KAAK,KAAG,C,iBACb,IAIc,EAJd,QAIc,G,WAHH,EAAAqB,W,qCAAA,EAAU,cACnBX,MAAM,qBACNY,QAAQ,W,gCAGZ,QAIQ,GAJDtB,KAAK,IAAIJ,MAAM,c,kBACpB,IAEQ,EAFR,QAEQ,GAFD2B,KAAA,GAAKlB,KAAK,QAAQC,MAAM,W,kBAAU,IAEzC,kB,QAFyC,2BAEzC,O,uBAIJ,QASQ,GARNK,KAAK,SACLL,MAAM,UACND,KAAK,QACLmB,MAAA,GACCC,QAAS,EAAAA,QACV7B,MAAM,Q,kBACP,IAED,kB,QAFC,kBAED,O,qBAEA,QAKM,MALN,EAKM,C,eAJJ,QAAqD,QAA/CA,MAAM,aAAY,0BAAsB,KAC9C,QAEQ,GAFD2B,KAAA,GAAKjB,MAAM,UAAW,QAAK,eAAEoB,EAAAA,QAAQC,KAAK,e,kBAAc,IAE/D,oB,QAF+D,qBAE/D,O,iHAgBhB,SACEC,KAAM,QACN,KAAAC,GACE,MAAMC,GAAS,UACTC,GAAY,SACZC,GAAQ,UAERC,GAAO,QAAI,MACXxB,GAAQ,QAAI,IACZQ,GAAW,QAAI,IACfC,GAAe,SAAI,GACnBG,GAAa,SAAI,GACjBI,GAAU,SAAI,GACdV,GAAc,QAAI,IAClBK,GAAiB,QAAI,IAErBN,EAAa,CACjBoB,KAAOA,GAAK,qBACZA,GAAK,YAAYC,KAAKD,IAAM,4BAGxBf,EAAgB,CACpBe,KAAOA,GAAK,6BACZA,GAAMA,GAAKA,EAAEE,QAAU,GAAM,uDAGzB5B,EAAc6B,UAClBtB,EAAYuB,MAAQ,GACpBlB,EAAekB,MAAQ,GAEvB,MAAM,MAAEC,SAAgBN,EAAKK,MAAME,WACnC,GAAKD,EAAL,CAEAd,EAAQa,OAAQ,EAEhB,UACQP,EAAUU,MAAMhC,EAAM6B,MAAOrB,EAASqB,OAC5CN,EAAMU,QAAQ,kCACdZ,EAAOH,KAAK,IACd,CAAE,MAAOgB,GACPC,QAAQD,MAAM,eAAgBA,GAE1BA,EAAME,UAAUC,MAAMC,OACxBJ,EAAME,SAASC,KAAKC,OAAOC,QAAQC,IAChB,UAAbA,EAAIC,KACNnC,EAAYuB,MAAMX,KAAKsB,EAAIE,KACL,aAAbF,EAAIC,MACb9B,EAAekB,MAAMX,KAAKsB,EAAIE,OAIlCnB,EAAMW,MAAMA,EAAME,UAAUC,MAAMH,OAAS,sBAE/C,CAAE,QACAlB,EAAQa,OAAQ,CAClB,CAxBY,GA2Bd,MAAO,CACLL,OACAxB,QACAQ,WACAC,eACAG,aACAI,UACAV,cACAK,iBACAN,aACAK,gBACAX,cAEJ,G,cCvJF,MAAM4C,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,G","sources":["webpack://wiki-frontend/./src/views/Login.vue","webpack://wiki-frontend/./src/views/Login.vue?240b"],"sourcesContent":["<template>\n  <v-container fluid class=\"fill-height login-container\">\n    <v-row justify=\"center\" align=\"center\" class=\"fill-height\">\n      <v-col cols=\"12\" sm=\"8\" md=\"6\" lg=\"4\">\n        <v-card class=\"elevation-8\" rounded=\"lg\">\n          <v-card-title class=\"text-center py-6\">\n            <div class=\"d-flex flex-column align-center\">\n              <v-icon size=\"48\" color=\"primary\" class=\"mb-4\">mdi-book-open-page-variant</v-icon>\n              <h1 class=\"text-h4 font-weight-light\">Wiki App</h1>\n              <p class=\"text-subtitle-1 text-grey\">Connexion à votre compte</p>\n            </div>\n          </v-card-title>\n\n          <v-card-text class=\"px-8 pb-8\">\n            <v-form ref=\"form\" @submit.prevent=\"handleLogin\">\n              <v-text-field\n                v-model=\"email\"\n                label=\"Adresse email\"\n                type=\"email\"\n                prepend-inner-icon=\"mdi-email\"\n                variant=\"outlined\"\n                :rules=\"emailRules\"\n                :error-messages=\"emailErrors\"\n                class=\"mb-3\"\n                required\n              ></v-text-field>\n\n              <v-text-field\n                v-model=\"password\"\n                label=\"Mot de passe\"\n                :type=\"showPassword ? 'text' : 'password'\"\n                prepend-inner-icon=\"mdi-lock\"\n                :append-inner-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\n                @click:append-inner=\"showPassword = !showPassword\"\n                variant=\"outlined\"\n                :rules=\"passwordRules\"\n                :error-messages=\"passwordErrors\"\n                class=\"mb-3\"\n                required\n              ></v-text-field>\n\n              <v-row class=\"mb-4\">\n                <v-col cols=\"6\">\n                  <v-checkbox\n                    v-model=\"rememberMe\"\n                    label=\"Se souvenir de moi\"\n                    density=\"compact\"\n                  ></v-checkbox>\n                </v-col>\n                <v-col cols=\"6\" class=\"text-right\">\n                  <v-btn text size=\"small\" color=\"primary\">\n                    Mot de passe oublié ?\n                  </v-btn>\n                </v-col>\n              </v-row>\n\n              <v-btn\n                type=\"submit\"\n                color=\"primary\"\n                size=\"large\"\n                block\n                :loading=\"loading\"\n                class=\"mb-4\"\n              >\n                Se connecter\n              </v-btn>\n\n              <div class=\"text-center\">\n                <span class=\"text-grey\">Pas encore de compte ?</span>\n                <v-btn text color=\"primary\" @click=\"$router.push('/register')\">\n                  Créer un compte\n                </v-btn>\n              </div>\n            </v-form>\n          </v-card-text>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useAuthStore } from '@/store/auth'\nimport { useToast } from 'vue-toastification'\n\nexport default {\n  name: 'Login',\n  setup () {\n    const router = useRouter()\n    const authStore = useAuthStore()\n    const toast = useToast()\n\n    const form = ref(null)\n    const email = ref('')\n    const password = ref('')\n    const showPassword = ref(false)\n    const rememberMe = ref(false)\n    const loading = ref(false)\n    const emailErrors = ref([])\n    const passwordErrors = ref([])\n\n    const emailRules = [\n      v => !!v || 'L\\'email est requis',\n      v => /.+@.+\\..+/.test(v) || 'L\\'email doit être valide'\n    ]\n\n    const passwordRules = [\n      v => !!v || 'Le mot de passe est requis',\n      v => (v && v.length >= 6) || 'Le mot de passe doit contenir au moins 6 caractères'\n    ]\n\n    const handleLogin = async () => {\n      emailErrors.value = []\n      passwordErrors.value = []\n\n      const { valid } = await form.value.validate()\n      if (!valid) return\n\n      loading.value = true\n\n      try {\n        await authStore.login(email.value, password.value)\n        toast.success('Connexion réussie ! Bienvenue.')\n        router.push('/')\n      } catch (error) {\n        console.error('Login error:', error)\n\n        if (error.response?.data?.errors) {\n          error.response.data.errors.forEach(err => {\n            if (err.path === 'email') {\n              emailErrors.value.push(err.msg)\n            } else if (err.path === 'password') {\n              passwordErrors.value.push(err.msg)\n            }\n          })\n        } else {\n          toast.error(error.response?.data?.error || 'Erreur de connexion')\n        }\n      } finally {\n        loading.value = false\n      }\n    }\n\n    return {\n      form,\n      email,\n      password,\n      showPassword,\n      rememberMe,\n      loading,\n      emailErrors,\n      passwordErrors,\n      emailRules,\n      passwordRules,\n      handleLogin\n    }\n  }\n}\n</script>\n\n<style scoped>\n.login-container {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  min-height: 100vh;\n}\n\n.v-card {\n  backdrop-filter: blur(10px);\n  background: rgba(255, 255, 255, 0.95) !important;\n}\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=84b7148c&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=84b7148c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-84b7148c\"]])\n\nexport default __exports__"],"names":["class","fluid","justify","align","cols","sm","md","lg","rounded","size","color","ref","handleLogin","email","label","type","variant","rules","emailRules","emailErrors","required","password","showPassword","passwordRules","passwordErrors","rememberMe","density","text","block","loading","$router","push","name","setup","router","authStore","toast","form","v","test","length","async","value","valid","validate","login","success","error","console","response","data","errors","forEach","err","path","msg","__exports__","render"],"sourceRoot":""}