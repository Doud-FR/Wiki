"use strict";(self["webpackChunkwiki_frontend"]=self["webpackChunkwiki_frontend"]||[]).push([[786],{8786:(e,s,r)=>{r.r(s),r.d(s,{default:()=>g});var a=r(641),l=r(3751);const o={class:"d-flex flex-column align-center"},t={class:"text-center"};function n(e,s,r,n,i,d){const u=(0,a.g2)("v-icon"),m=(0,a.g2)("v-card-title"),c=(0,a.g2)("v-text-field"),p=(0,a.g2)("v-col"),f=(0,a.g2)("v-row"),g=(0,a.g2)("v-btn"),v=(0,a.g2)("v-checkbox"),b=(0,a.g2)("v-form"),w=(0,a.g2)("v-card-text"),k=(0,a.g2)("v-card"),h=(0,a.g2)("v-container");return(0,a.uX)(),(0,a.Wv)(h,{fluid:"",class:"fill-height register-container"},{default:(0,a.k6)(()=>[(0,a.bF)(f,{justify:"center",align:"center",class:"fill-height"},{default:(0,a.k6)(()=>[(0,a.bF)(p,{cols:"12",sm:"10",md:"8",lg:"6"},{default:(0,a.k6)(()=>[(0,a.bF)(k,{class:"elevation-8",rounded:"lg"},{default:(0,a.k6)(()=>[(0,a.bF)(m,{class:"text-center py-6"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",o,[(0,a.bF)(u,{size:"48",color:"primary",class:"mb-4"},{default:(0,a.k6)(()=>[...s[9]||(s[9]=[(0,a.eW)("mdi-account-plus",-1)])]),_:1}),s[10]||(s[10]=(0,a.Lk)("h1",{class:"text-h4 font-weight-light"},"Créer un compte",-1)),s[11]||(s[11]=(0,a.Lk)("p",{class:"text-subtitle-1 text-grey"},"Rejoignez Wiki App",-1))])]),_:1}),(0,a.bF)(w,{class:"px-8 pb-8"},{default:(0,a.k6)(()=>[(0,a.bF)(b,{ref:"form",onSubmit:(0,l.D$)(n.handleRegister,["prevent"])},{default:(0,a.k6)(()=>[(0,a.bF)(f,null,{default:(0,a.k6)(()=>[(0,a.bF)(p,{cols:"12",md:"6"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{modelValue:n.firstName,"onUpdate:modelValue":s[0]||(s[0]=e=>n.firstName=e),label:"Prénom","prepend-inner-icon":"mdi-account",variant:"outlined",rules:n.firstNameRules,"error-messages":n.firstNameErrors,required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),(0,a.bF)(p,{cols:"12",md:"6"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{modelValue:n.lastName,"onUpdate:modelValue":s[1]||(s[1]=e=>n.lastName=e),label:"Nom de famille","prepend-inner-icon":"mdi-account",variant:"outlined",rules:n.lastNameRules,"error-messages":n.lastNameErrors,required:""},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),(0,a.bF)(c,{modelValue:n.email,"onUpdate:modelValue":s[2]||(s[2]=e=>n.email=e),label:"Adresse email",type:"email","prepend-inner-icon":"mdi-email",variant:"outlined",rules:n.emailRules,"error-messages":n.emailErrors,class:"mb-3",required:""},null,8,["modelValue","rules","error-messages"]),(0,a.bF)(c,{modelValue:n.password,"onUpdate:modelValue":s[3]||(s[3]=e=>n.password=e),label:"Mot de passe",type:n.showPassword?"text":"password","prepend-inner-icon":"mdi-lock","append-inner-icon":n.showPassword?"mdi-eye":"mdi-eye-off","onClick:appendInner":s[4]||(s[4]=e=>n.showPassword=!n.showPassword),variant:"outlined",rules:n.passwordRules,"error-messages":n.passwordErrors,class:"mb-3",required:""},null,8,["modelValue","type","append-inner-icon","rules","error-messages"]),(0,a.bF)(c,{modelValue:n.confirmPassword,"onUpdate:modelValue":s[5]||(s[5]=e=>n.confirmPassword=e),label:"Confirmer le mot de passe",type:n.showConfirmPassword?"text":"password","prepend-inner-icon":"mdi-lock-check","append-inner-icon":n.showConfirmPassword?"mdi-eye":"mdi-eye-off","onClick:appendInner":s[6]||(s[6]=e=>n.showConfirmPassword=!n.showConfirmPassword),variant:"outlined",rules:n.confirmPasswordRules,"error-messages":n.confirmPasswordErrors,class:"mb-3",required:""},null,8,["modelValue","type","append-inner-icon","rules","error-messages"]),(0,a.bF)(v,{modelValue:n.acceptTerms,"onUpdate:modelValue":s[7]||(s[7]=e=>n.acceptTerms=e),rules:n.termsRules,class:"mb-4"},{label:(0,a.k6)(()=>[(0,a.Lk)("div",null,[s[14]||(s[14]=(0,a.eW)(" J'accepte les ",-1)),(0,a.bF)(g,{text:"",size:"small",color:"primary"},{default:(0,a.k6)(()=>[...s[12]||(s[12]=[(0,a.eW)("conditions d'utilisation",-1)])]),_:1}),s[15]||(s[15]=(0,a.eW)(" et la ",-1)),(0,a.bF)(g,{text:"",size:"small",color:"primary"},{default:(0,a.k6)(()=>[...s[13]||(s[13]=[(0,a.eW)("politique de confidentialité",-1)])]),_:1})])]),_:1},8,["modelValue","rules"]),(0,a.bF)(g,{type:"submit",color:"primary",size:"large",block:"",loading:n.loading,class:"mb-4"},{default:(0,a.k6)(()=>[...s[16]||(s[16]=[(0,a.eW)(" Créer mon compte ",-1)])]),_:1},8,["loading"]),(0,a.Lk)("div",t,[s[18]||(s[18]=(0,a.Lk)("span",{class:"text-grey"},"Déjà un compte ?",-1)),(0,a.bF)(g,{text:"",color:"primary",onClick:s[8]||(s[8]=s=>e.$router.push("/login"))},{default:(0,a.k6)(()=>[...s[17]||(s[17]=[(0,a.eW)(" Se connecter ",-1)])]),_:1})])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var i=r(953),d=r(5220),u=r(975),m=r(5246);const c={name:"Register",setup(){const e=(0,d.rd)(),s=(0,u.n)(),r=(0,m.dj)(),a=(0,i.KR)(null),l=(0,i.KR)(""),o=(0,i.KR)(""),t=(0,i.KR)(""),n=(0,i.KR)(""),c=(0,i.KR)(""),p=(0,i.KR)(!1),f=(0,i.KR)(!1),g=(0,i.KR)(!1),v=(0,i.KR)(!1),b=(0,i.KR)([]),w=(0,i.KR)([]),k=(0,i.KR)([]),h=(0,i.KR)([]),R=(0,i.KR)([]),y=[e=>!!e||"Le prénom est requis",e=>e&&e.length>=2||"Le prénom doit contenir au moins 2 caractères"],F=[e=>!!e||"Le nom de famille est requis",e=>e&&e.length>=2||"Le nom de famille doit contenir au moins 2 caractères"],_=[e=>!!e||"L'email est requis",e=>/.+@.+\..+/.test(e)||"L'email doit être valide"],N=[e=>!!e||"Le mot de passe est requis",e=>e&&e.length>=6||"Le mot de passe doit contenir au moins 6 caractères",e=>/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e)||"Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre"],V=[e=>!!e||"La confirmation du mot de passe est requise",e=>e===n.value||"Les mots de passe ne correspondent pas"],P=[e=>!!e||"Vous devez accepter les conditions d'utilisation"],x=async()=>{b.value=[],w.value=[],k.value=[],h.value=[],R.value=[];const{valid:i}=await a.value.validate();if(i){v.value=!0;try{await s.register({firstName:l.value,lastName:o.value,email:t.value,password:n.value}),r.success("Compte créé avec succès ! Un email de bienvenue vous a été envoyé."),e.push("/")}catch(d){console.error("Registration error:",d),d.response?.data?.errors?d.response.data.errors.forEach(e=>{switch(e.path){case"firstName":b.value.push(e.msg);break;case"lastName":w.value.push(e.msg);break;case"email":k.value.push(e.msg);break;case"password":h.value.push(e.msg);break}}):r.error(d.response?.data?.error||"Erreur lors de la création du compte")}finally{v.value=!1}}};return{form:a,firstName:l,lastName:o,email:t,password:n,confirmPassword:c,showPassword:p,showConfirmPassword:f,acceptTerms:g,loading:v,firstNameErrors:b,lastNameErrors:w,emailErrors:k,passwordErrors:h,confirmPasswordErrors:R,firstNameRules:y,lastNameRules:F,emailRules:_,passwordRules:N,confirmPasswordRules:V,termsRules:P,handleRegister:x}}};var p=r(6262);const f=(0,p.A)(c,[["render",n],["__scopeId","data-v-65b578d2"]]),g=f}}]);
//# sourceMappingURL=786.8fac1b9f.js.map